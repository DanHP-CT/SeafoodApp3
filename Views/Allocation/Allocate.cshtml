@model SeafoodApp.Models.ViewModels.AllocationViewModel

@{
    ViewData["Title"] = "Điều phối cho Lệnh sản xuất";
}

<h1 class="title-spacing">Điều phối cho Lệnh sản xuất</h1>
<div class="form-group">
    <select asp-for="ProductionOrderId" class="form-select" style="width: 200px;" asp-items="Model.ProductionOrders"></select>
    <span asp-validation-for="ProductionOrderId" class="text-danger"></span>
</div>

<table class="table table-bordered">
    <thead>
        <tr>
            <th class="lot-column">Số lô</th>
            <th>Tên sản phẩm</th>
            <th class="size-column">Size</th>
            <th class="quantity-column">SL còn lại</th>
            <th class="quantity-column">SL điều phối</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="lot-column">@Model.LotNumber</td>
            <td>@Model.ProductName</td>
            <td class="size-column">@Model.Size</td>
            <td class="quantity-column">@Model.RemainingQuantity kg</td>
            <td class="quantity-column">
                <input asp-for="AllocatedQuantity" class="form-control" type="number" step="0.01" />
                <span asp-validation-for="AllocatedQuantity" class="text-danger"></span>
            </td>
        </tr>
    </tbody>
</table>

<div class="mt-3">
    <button type="submit" class="btn btn-primary">Điều phối</button>
    <a asp-action="Index" asp-controller="Allocation" asp-route-purchaseOrderId="@Model.LotId" class="btn btn-secondary">Quay lại</a>
</div>

@section Styles {
    <style>
        .title-spacing {
            margin-bottom: 20px;
        }

        .lot-column {
            width: fit-content;
        }

        .size-column {
            width: fit-content;
            text-align: center;
        }

        .quantity-column {
            width: 100px;
            text-align: center;
        }
    </style>
}
@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/4.0.0/jquery.validate.unobtrusive.min.js"></script>
}